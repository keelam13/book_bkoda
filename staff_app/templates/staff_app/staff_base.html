{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block extra_css %}
<style>
    .staff-app-display {
        display: flex;
        min-height: 100vh;
        background-color: #f8f9fa;
        position:relative;
    }
    .sidebar {
        width: 250px;
        background-color: #343a40;
        color: white;
        padding: 20px;
        flex-shrink: 0;
    }
    .sidebar .nav-link {
        color: #adb5bd;
        padding: 10px 15px;
        border-radius: 5px;
        margin-bottom: 5px;
        transition: background-color 0.2s ease;
    }
    .sidebar .nav-link:hover, .sidebar .nav-link.active {
        background-color: #495057;
        color: white;
    }
    .content {
        flex-grow: 1;
        padding: 20px;
        overflow-y: auto;
    }
    .navbar-brand {
        font-weight: bold;
        font-size: 1.5rem;
        color: white !important;
        margin-bottom: 20px;
        display: block;
        text-align: center;
    }
    .section-title {
        color: #007bff;
        border-bottom: 2px solid #007bff;
        padding-bottom: 5px;
        margin-bottom: 20px;
    }
</style>
{% endblock %}

{% block content %}
    <article class="staff-app-display">
        <section class="sidebar">
            <a class="navbar-brand" href="">Staff Panel</a>
            <ul class="nav flex-column">
                <li class="nav-item">
                    <a class="nav-link {% if request.resolver_match.url_name == 'dashboard' %}active{% endif %}" href="{% url 'staff_app:dashboard' %}">
                        <i class="fas fa-tachometer-alt me-2"></i> Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if 'trip' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'staff_app:trips_list' %}">
                        <i class="fas fa-route me-2"></i> Trips
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {% if 'booking' in request.resolver_match.url_name %}active{% endif %}" href="{% url 'staff_app:bookings_list' %}">
                        <i class="fas fa-ticket-alt me-2"></i> Bookings
                    </a>
                </li>

                <li class="nav-item mt-auto"> {# Push to bottom #}
                    <a class="nav-link" href="{% url 'account_logout' %}">
                        <i class="fas fa-sign-out-alt me-2"></i> Logout
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="{% url 'home' %}">
                        <i class="fas fa-home me-2"></i> Back to Site
                    </a>
                </li>
            </ul>
        </section>
        <section class="content">
            {% block staff_app_content %}
            {% endblock %}
        </section>
    </article>
{% endblock %}
